<!DOCTYPE html>---
layout: '../../layouts/AdminLayout.astro'
title: 'Admin Dashboard'
---
<script type="module" src="/src/scripts/auth-middleware.js"></script><h2>Welcome to the Admin Dashboard</h2> <ul> <li><a href="/secure/admin/radiation">Radiation System Admin</a></li> <hr> <h3>Project Management</h3> <div id="project-list"></div> <h4>Add / Edit Project</h4> <form id="project-form"> <input type="hidden" id="project-id"> <label>Project Name:<br><input type="text" id="project-name" required></label><br> <label>Description:<br><textarea id="project-description" required></textarea></label><br> <button type="submit">Save Project</button> </form> <script type="module">const e=document.getElementById("project-list"),t=document.getElementById("project-form"),n=document.getElementById("project-id"),o=document.getElementById("project-name"),c=document.getElementById("project-description");let r=JSON.parse(localStorage.getItem("adminProjects")||"[]");function i(){e.innerHTML="",r.forEach(((t,n)=>{const o=document.createElement("div");o.innerHTML=`<strong>${t.name}</strong><br>${t.description}<br>\n      <button onclick="editProject(${n})">Edit</button>\n      <button onclick="deleteProject(${n})">Delete</button><hr>`,e.appendChild(o)}))}function d(){localStorage.setItem("adminProjects",JSON.stringify(r)),i()}t.onsubmit=e=>{e.preventDefault();const i=n.value,l=o.value.trim(),m=c.value.trim();l&&m&&(i?r[i]={name:l,description:m}:r.push({name:l,description:m}),t.reset(),n.value="",d())},window.editProject=e=>{const t=r[e];n.value=e,o.value=t.name,c.value=t.description},window.deleteProject=e=>{confirm("Delete this project?")&&(r.splice(e,1),d())},i();</script> </ul>