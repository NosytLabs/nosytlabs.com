document.addEventListener("DOMContentLoaded",(function(){"true"!==localStorage.getItem("admin-auth")&&window.location.pathname.startsWith("/admin")&&(window.location.href="/admin");const e=document.getElementById("delete-modal"),t=document.getElementById("close-modal"),n=document.getElementById("cancel-delete"),o=document.getElementById("confirm-delete"),c=document.querySelectorAll(".delete-btn");let d=null;c.forEach((t=>{t.addEventListener("click",(function(){d=this.getAttribute("data-id"),e.classList.add("active")}))})),t&&t.addEventListener("click",(function(){e.classList.remove("active")})),n&&n.addEventListener("click",(function(){e.classList.remove("active")})),o&&o.addEventListener("click",(function(){const t=document.querySelector(`tr[data-id="${d}"]`);t&&t.remove(),e.classList.remove("active")})),document.querySelectorAll(".view-btn").forEach((e=>{e.addEventListener("click",(function(){const e=this.getAttribute("data-slug");e&&window.open(`/blog/${e}`,"_blank")}))}));const a=document.getElementById("search-posts"),i=document.getElementById("category-filter"),l=document.getElementById("status-filter");function s(){const e=a.value.toLowerCase(),t=i.value,n=l.value;document.querySelectorAll("#posts-table-body tr").forEach((o=>{const c=o.children[1].textContent.toLowerCase(),d=o.children[2].textContent,a=o.children[4].querySelector(".status-badge").classList.contains("status-published")?"published":"draft",i=c.includes(e),l=""===t||d===t,s=""===n||a===n;o.style.display=i&&l&&s?"":"none"}))}a&&a.addEventListener("input",s),i&&i.addEventListener("change",s),l&&l.addEventListener("change",s)})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("logout-btn");e&&e.addEventListener("click",(function(){localStorage.removeItem("admin-auth"),window.location.href="/admin"}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("user-menu-btn"),t=document.getElementById("user-dropdown");document.getElementById("logout-dropdown-btn");const n=document.getElementById("theme-toggle-admin");e&&t&&(e.addEventListener("click",(function(){t.classList.toggle("active")})),document.addEventListener("click",(function(n){e.contains(n.target)||t.contains(n.target)||t.classList.remove("active")}))),n&&n.addEventListener("click",(function(){document.documentElement.classList.toggle("dark"),document.documentElement.classList.contains("dark")?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light")}))})),document.addEventListener("DOMContentLoaded",(function(){"true"!==localStorage.getItem("admin-auth")&&window.location.pathname.startsWith("/admin")&&(window.location.href="/admin");const e=document.getElementById("delete-modal"),t=document.getElementById("close-modal"),n=document.getElementById("cancel-delete"),o=document.getElementById("confirm-delete"),c=document.querySelectorAll(".delete-btn");let d=null;c.forEach((t=>{t.addEventListener("click",(function(){d=this.getAttribute("data-id"),e.classList.add("active")}))})),t&&t.addEventListener("click",(function(){e.classList.remove("active")})),n&&n.addEventListener("click",(function(){e.classList.remove("active")})),o&&o.addEventListener("click",(function(){const t=document.querySelector(`tr[data-id="${d}"]`);t&&t.remove(),e.classList.remove("active")})),document.querySelectorAll(".view-btn").forEach((e=>{e.addEventListener("click",(function(){const e=this.getAttribute("data-link");e&&window.open(e,"_blank")}))}));const a=document.getElementById("search-projects"),i=document.getElementById("category-filter"),l=document.getElementById("status-filter");function s(){const e=a.value.toLowerCase(),t=i.value,n=l.value;document.querySelectorAll("#projects-table-body tr").forEach((o=>{const c=o.children[1].textContent.toLowerCase(),d=o.children[2].textContent,a=o.children[4].querySelector(".status-badge").classList.contains("status-published")?"published":"draft",i=c.includes(e),l=""===t||d===t,s=""===n||a===n;o.style.display=i&&l&&s?"":"none"}))}a&&a.addEventListener("input",s),i&&i.addEventListener("change",s),l&&l.addEventListener("change",s)}));