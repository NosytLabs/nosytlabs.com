<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows 95 Blog System</title>
    <link rel="stylesheet" href="../styles/enhanced-win95.css">
    <link rel="stylesheet" href="styles/blog.css">
    <style>
        /* Ensure the blog manager takes up most of the viewport */
        #blogManager {
            margin: 20px;
            width: calc(100% - 40px);
            height: calc(100vh - 40px);
        }
    </style>
</head>
<body>
    <div class="window" id="blogManager">
        <div class="title-bar">
            <div class="title-bar-text">Blog Manager</div>
            <div class="title-bar-controls">
                <button aria-label="Minimize"></button>
                <button aria-label="Maximize"></button>
                <button aria-label="Close"></button>
            </div>
        </div>
        <div class="window-body">
            <menu role="menubar">
                <li role="menuitem">
                    <a href="#file">File</a>
                    <menu>
                        <li><a href="#new">New Post</a></li>
                        <li><a href="#open">Open...</a></li>
                        <li><a href="#save">Save</a></li>
                        <li><a href="#publish">Publish</a></li>
                        <li><hr></li>
                        <li><a href="#exit">Exit</a></li>
                    </menu>
                </li>
                <li role="menuitem">
                    <a href="#edit">Edit</a>
                    <menu>
                        <li><a href="#undo">Undo</a></li>
                        <li><a href="#cut">Cut</a></li>
                        <li><a href="#copy">Copy</a></li>
                        <li><a href="#paste">Paste</a></li>
                        <li><hr></li>
                        <li><a href="#insert-image">Insert Image...</a></li>
                    </menu>
                </li>
                <li role="menuitem">
                    <a href="#view">View</a>
                    <menu>
                        <li><a href="#preview">Preview</a></li>
                        <li><a href="#categories">Categories</a></li>
                        <li><a href="#tags">Tags</a></li>
                        <li><hr></li>
                        <li><a href="#statistics">Statistics</a></li>
                    </menu>
                </li>
            </menu>
            <div class="toolbar">
                <button class="btn-new">New</button>
                <button class="btn-open">Open</button>
                <button class="btn-save">Save</button>
                <button class="btn-publish">Publish</button>
                <button class="btn-preview">Preview</button>
                <div class="separator"></div>
                <input type="text" id="searchBox" placeholder="Search posts..." />
                <button class="btn-search">Search</button>
            </div>
            <div class="blog-content">
                <div class="post-list">
                    <ul class="tree-view">
                        <!-- Posts will be listed here -->
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal templates -->
    <template id="imageUploadModal">
        <div class="window modal">
            <div class="title-bar">
                <div class="title-bar-text">Upload Image</div>
                <div class="title-bar-controls">
                    <button aria-label="Close"></button>
                </div>
            </div>
            <div class="window-body">
                <div class="field-row">
                    <input type="file" accept="image/*" id="imageUpload" />
                </div>
                <div class="field-row" style="justify-content: flex-end">
                    <button class="btn-upload">Upload</button>
                    <button class="btn-cancel">Cancel</button>
                </div>
            </div>
        </div>
    </template>

    <template id="statsModal">
        <div class="window modal">
            <div class="title-bar">
                <div class="title-bar-text">Blog Statistics</div>
                <div class="title-bar-controls">
                    <button aria-label="Close"></button>
                </div>
            </div>
            <div class="window-body">
                <div id="blogStats"></div>
            </div>
        </div>
    </template>

    <script src="../scripts/nosyt-file-system.js"></script>
    <script src="scripts/post-manager.js"></script>
    <script src="scripts/blog.js"></script>
</body>
</html>