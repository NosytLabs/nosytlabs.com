---
// BaseLayout.astro - Main layout for the website
import '../styles/global.css';

export interface Props {
  title?: string;
  description?: string;
  ogImage?: string;
}

const {
  title = 'NosytLabs - Notable Opportunities Shape Your Tomorrow',
  description = 'NosytLabs - Innovative digital solutions that help businesses thrive in the modern landscape.',
  ogImage = '/images/nosytlabs-og.jpg',
} = Astro.props;

// Generate a unique ID for this page
const pageId = `page-${Math.random().toString(36).substring(2, 9)}`;
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{title}</title>
  <meta name="description" content={description}>

  <!-- Favicons -->
  <link rel="icon" type="image/svg+xml" href="/images/favicon.svg">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#4C1D95">
  <meta name="msapplication-TileColor" content="#4C1D95">

  <!-- Open Graph / Social Media -->
  <meta property="og:type" content="website">
  <meta property="og:url" content={Astro.url}>
  <meta property="og:title" content={title}>
  <meta property="og:description" content={description}>
  <meta property="og:image" content={ogImage}>
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:title" content={title}>
  <meta property="twitter:description" content={description}>
  <meta property="twitter:image" content={ogImage}>

  <!-- Canonical URL -->
  <link rel="canonical" href={new URL(Astro.url.pathname, Astro.site || 'https://nosytlabs.com').href}>

  <!-- Keywords -->
  <meta name="keywords" content="AI solutions, web development, mobile apps, 3D printing, technology">

  <!-- Structured Data for Organization -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "NosytLabs",
      "url": "https://nosytlabs.com",
      "logo": "https://nosytlabs.com/images/logo.svg",
      "description": "Notable Opportunities Shape Your Tomorrow - Innovative digital solutions that help businesses thrive in the modern landscape.",
      "sameAs": [
        "https://github.com/NosytLabs",
        "https://kick.com/Tycen",
        "https://www.youtube.com/@TycenYT",
        "https://crealitycloud.com/user/9519489699"
      ]
    }
  </script>

  <!-- Preload critical resources -->
  <link rel="preload" href="/images/logo.svg" as="image">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Global styles -->
  <link rel="stylesheet" href="/styles/global.css">

  <!-- Scripts -->
  <script src="/scripts/main.js" defer></script>
  <script src="/scripts/theme.js" defer></script>
  <script src="/scripts/popup-fix.js" defer></script>
</head>
<body id={pageId} class="overflow-x-hidden">
  <!-- Skip to main content link for accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Header -->
  <header class="site-header">
    <div class="container">
      <a href="/" class="site-logo">
        <img src="/images/logo.svg" alt="NosytLabs Logo" width="40" height="40">
        <span>NosytLabs</span>
      </a>

      <!-- Desktop Navigation -->
      <nav class="site-nav">
        <a href="/" class={Astro.url.pathname === '/' ? 'active' : ''}>Home</a>
        <a href="/services" class={Astro.url.pathname === '/services' ? 'active' : ''}>Services</a>
        <a href="/projects" class={Astro.url.pathname === '/projects' ? 'active' : ''}>Projects</a>
        <a href="/content-creation" class={Astro.url.pathname === '/content-creation' ? 'active' : ''}>Content</a>
        <a href="/live" class={Astro.url.pathname === '/live' ? 'active' : ''}>Live</a>
        <a href="/crypto-mining" class={Astro.url.pathname === '/crypto-mining' ? 'active' : ''}>Mining</a>
        <a href="/3d-printing" class={Astro.url.pathname === '/3d-printing' ? 'active' : ''}>3D Printing</a>
        <a href="/blog" class={Astro.url.pathname === '/blog' ? 'active' : ''}>Blog</a>
        <a href="/nosytos95" class={Astro.url.pathname === '/nosytos95' ? 'active' : ''}>NosytOS95</a>
        <a href="/contact" class={Astro.url.pathname === '/contact' ? 'active' : ''}>Contact</a>
      </nav>

      <!-- Theme Toggle and Mobile Menu -->
      <div class="header-controls">
        <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
          <svg xmlns="http://www.w3.org/2000/svg" class="sun-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
          <svg xmlns="http://www.w3.org/2000/svg" class="moon-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
        </button>

        <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-label="Toggle navigation menu" aria-controls="mobile-menu" aria-expanded="false">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>

      <!-- Mobile Menu -->
      <div id="mobile-menu" class="mobile-menu" aria-hidden="true">
        <nav class="mobile-menu-nav">
          <a href="/">Home</a>
          <a href="/services">Services</a>
          <a href="/projects">Projects</a>
          <a href="/content-creation">Content Creation</a>
          <a href="/live">Live Stream</a>
          <a href="/crypto-mining">Crypto Mining</a>
          <a href="/3d-printing">3D Printing</a>
          <a href="/blog">Blog</a>
          <a href="/nosytos95">NosytOS95</a>
          <a href="/contact">Contact</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main id="main-content">
    <slot />
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container">
      <div class="footer-grid">
        <div>
          <div class="footer-logo">
            <img src="/images/logo.svg" alt="NosytLabs Logo" width="40" height="40">
            <h3>NosytLabs</h3>
          </div>
          <p>Notable Opportunities Shape Your Tomorrow</p>
          <div class="social-links">
            <a href="https://github.com/NosytLabs" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
              </svg>
            </a>
            <a href="https://kick.com/Tycen" target="_blank" rel="noopener noreferrer" aria-label="Kick">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm-1 17H7V7h4v10zm8 0h-4v-5c0-1.1-.9-2-2-2h-2V7h2c2.21 0 4 1.79 4 4v6z"/>
              </svg>
            </a>
            <a href="https://www.youtube.com/@TycenYT" target="_blank" rel="noopener noreferrer" aria-label="YouTube">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
              </svg>
            </a>
            <a href="https://crealitycloud.com/user/9519489699" target="_blank" rel="noopener noreferrer" aria-label="Creality Cloud">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm-1 21.95c-5.513-.26-9.95-4.77-9.95-10.05 0-.789.092-1.556.264-2.292L7 16v1c0 1.1.9 2 2 2v2.95zm9.95-3.113c-.26-.738-1-1.267-1.838-1.337H18v-3c0-.552-.448-1-1-1h-5v-2h2c.552 0 1-.448 1-1V8h2c1.1 0 2-.9 2-2v-.535C21.969 7.278 24 10.338 24 14c0 1.926-.432 3.748-1.05 5.837z"/>
              </svg>
            </a>
          </div>
        </div>

        <div>
          <h3 class="footer-heading">Quick Links</h3>
          <ul class="footer-links">
            <li><a href="/"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg> Home</a></li>
            <li><a href="/services"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg> Services</a></li>
            <li><a href="/projects"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg> Projects</a></li>
            <li><a href="/content-creation"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg> Content Creation</a></li>
            <li><a href="/live"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg> Live Stream</a></li>
          </ul>
        </div>

        <div>
          <h3 class="footer-heading">Services</h3>
          <ul class="footer-links">
            <li><a href="/services#web-development"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg> Web Development</a></li>
            <li><a href="/content-creation"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg> Content Creation</a></li>
            <li><a href="/crypto-mining"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg> Crypto Mining</a></li>
            <li><a href="/3d-printing"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg> 3D Printing</a></li>
            <li><a href="/services#consulting"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg> Consulting</a></li>
          </ul>
        </div>

        <div>
          <h3 class="footer-heading">Contact Us</h3>
          <p>Have questions or need assistance? Reach out to us.</p>
          <a href="/contact" class="contact-email">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
              <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
            info@nosytlabs.com
          </a>
          <a href="/contact" class="btn btn-accent mt-4">Contact Page</a>
        </div>
      </div>

      <div class="footer-bottom">
        <p>© 2025 NosytLabs. All rights reserved. <span class="accent">Notable Opportunities Shape Your Tomorrow</span></p>
      </div>
    </div>
  </footer>

  <!-- Theme script -->
  <script>
    // Check for saved theme preference or use system preference
    const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    const storedTheme = localStorage.getItem('theme');
    
    if (storedTheme === 'dark' || (!storedTheme && prefersDarkScheme.matches)) {
      document.documentElement.classList.add('dark');
    } else {
      document.documentElement.classList.remove('dark');
    }

    // Theme toggle functionality
    document.addEventListener('DOMContentLoaded', () => {
      const themeToggle = document.getElementById('theme-toggle');
      
      if (themeToggle) {
        themeToggle.addEventListener('click', () => {
          document.documentElement.classList.toggle('dark');
          
          // Update stored preference
          if (document.documentElement.classList.contains('dark')) {
            localStorage.setItem('theme', 'dark');
          } else {
            localStorage.setItem('theme', 'light');
          }
        });
      }

      // Mobile menu functionality
      const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
      const mobileMenu = document.getElementById('mobile-menu');
      
      if (mobileMenuToggle && mobileMenu) {
        mobileMenuToggle.addEventListener('click', () => {
          mobileMenuToggle.classList.toggle('active');
          mobileMenu.classList.toggle('active');
          
          const isExpanded = mobileMenuToggle.classList.contains('active');
          mobileMenuToggle.setAttribute('aria-expanded', isExpanded);
          mobileMenu.setAttribute('aria-hidden', !isExpanded);
        });
      }
    });
  </script>
</body>
</html>
