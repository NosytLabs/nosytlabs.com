/* Buttons, Cards, Forms, and Navigation */
@layer components {
  /* Legacy button classes removed - all buttons now use unified Button component */

  /* Legacy card class removed - migrated to unified Card component */

  /* NOTE: Legacy form styles removed here to avoid duplication.
     See consolidated form styles further below in this file under @layer components. */

  /* Enhanced Form Components - Consolidated styles below */

  /* Duplicated styles removed - consolidated in second @layer components section below */

}

@layer components {
  /* Form Container */
  .form {
    @apply space-y-6;
  }

  .form-group {
    @apply space-y-2;
  }

  .form-row {
    @apply grid grid-cols-1 gap-4;
  }

  .form-row-2 {
    @apply md:grid-cols-2;
  }

  .form-row-3 {
    @apply md:grid-cols-3;
  }

  /* Labels */
  .form-label {
    @apply block text-sm font-medium;
    color: var(--color-text-secondary);
  }

  .form-label-required::after {
    content: '*';
    color: var(--color-error-500);

    @apply ml-1;
  }

  /* Base Input Styles */
  .form-input {
    @apply block w-full px-3 py-2 text-sm rounded-lg;
    border: 1px solid var(--color-border);

    @apply placeholder-gray-400;
    @apply transition-all duration-200 ease-out;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500/50;
    border-color: var(--color-primary-500);

    @apply disabled:cursor-not-allowed;
    background: var(--color-neutral-50);
    color: var(--color-text-muted);
  }

  /* Input Sizes */
  .form-input-sm {
    @apply px-2.5 py-1.5 text-xs rounded-md;
  }

  .form-input-md {
    @apply px-3 py-2 text-sm rounded-lg;
  }

  .form-input-lg {
    @apply px-4 py-3 text-base rounded-lg;
  }

  /* Input States */
  .form-input-success {
    border-color: var(--color-success-500);

    @apply focus:ring-success-500/50;
  }

  .form-input-warning {
    border-color: var(--color-warning-500);

    @apply focus:ring-warning-500/50;
  }

  .form-input-error {
    border-color: var(--color-error-500);

    @apply focus:ring-error-500/50;
  }

  /* Textarea */
  .form-textarea {
    @apply form-input resize-none;
    min-height: 100px;
  }

  .form-textarea-auto {
    @apply resize-y;
  }

  /* Select */
  .form-select {
    @apply form-input pr-10 bg-no-repeat bg-right;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-size: 1.5em 1.5em;
    color: var(--color-text-muted);
  }

  /* Checkbox */
  .form-checkbox {
    @apply w-4 h-4 rounded;
    color: var(--color-primary-600);
    background: var(--color-surface);
    border: 1px solid var(--color-border);

    @apply focus:ring-primary-500/50 focus:ring-2;
    @apply transition-all duration-200;
  }

  .form-checkbox:checked {
    background: var(--color-primary-600);
    border-color: var(--color-primary-600);
  }

  /* Radio */
  .form-radio {
    @apply w-4 h-4;
    color: var(--color-primary-600);
    background: var(--color-surface);
    border: 1px solid var(--color-border);

    @apply focus:ring-primary-500/50 focus:ring-2;
    @apply transition-all duration-200;
  }

  .form-radio:checked {
    background: var(--color-primary-600);
    border-color: var(--color-primary-600);
  }

  /* Switch/Toggle */
  .form-switch {
    @apply relative inline-flex h-6 w-11 items-center rounded-full;
    background: var(--color-neutral-200);

    @apply transition-colors duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500/50;
  }

  .form-switch:checked {
    background: var(--color-primary-600);
  }

  .form-switch::before {
    content: '';

    @apply absolute left-1 top-1 h-4 w-4 rounded-full;
    background: var(--color-surface);

    @apply transition-transform duration-200;
  }

  .form-switch:checked::before {
    @apply translate-x-5;
  }

  /* Input Groups */
  .input-group {
    @apply flex;
  }

  .input-group .form-input {
    @apply rounded-none;
  }

  .input-group .form-input:first-child {
    @apply rounded-l-lg;
  }

  .input-group .form-input:last-child {
    @apply rounded-r-lg;
  }

  .input-group-prepend,
  .input-group-append {
    @apply flex items-center px-3 text-sm;
    background: var(--color-neutral-50);
    border: 1px solid var(--color-border);
    color: var(--color-text-muted);
  }

  .input-group-prepend {
    @apply rounded-l-lg border-r-0;
  }

  .input-group-append {
    @apply rounded-r-lg border-l-0;
  }

  /* File Input */
  .form-file {
    @apply block w-full text-sm;
    background: var(--color-primary-50);
    color: var(--color-primary-700);
  }

  .form-file::file-selector-button {
    @apply mr-4 py-2 px-4 rounded-lg border-0 text-sm font-medium transition-colors duration-200;
  }

  .form-file:hover::file-selector-button {
    @apply bg-primary-100;
  }

  /* Search Input */
  .form-search {
    @apply form-input pl-10;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z'/%3e%3c/svg%3e");
    background-position: left 0.75rem center;
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
    color: var(--color-text-muted);
  }

  /* Password Input */
  .form-password {
    @apply relative;
  }

  .form-password input {
    @apply pr-10;
  }

  .form-password-toggle {
    @apply absolute right-3 top-1/2 -translate-y-1/2 cursor-pointer transition-colors duration-200;
    color: var(--color-text-muted);
  }

  .form-password-toggle:hover {
    color: var(--color-text-secondary);
  }

  /* Help Text */
  .form-help {
    @apply text-xs mt-1;
    color: var(--color-text-muted);
  }

  .form-help-success {
    color: var(--color-success-600);
  }

  .form-help-warning {
    color: var(--color-warning-600);
  }

  .form-help-error {
    color: var(--color-error-600);
  }

  /* Validation Messages */
  .form-error {
    @apply text-sm mt-1;
    color: var(--color-error-600);
  }

  .form-success {
    @apply text-sm mt-1;
    color: var(--color-success-600);
  }

  /* Floating Labels */
  .form-floating {
    @apply relative;
  }

  .form-floating input {
    @apply pt-6 pb-2;
  }

  .form-floating label {
    @apply absolute left-3 top-4 transition-all duration-200;
    @apply pointer-events-none;
    color: var(--color-text-muted);
  }

  .form-floating input:focus + label,
  .form-floating input:not(:placeholder-shown) + label {
    @apply top-2 text-xs;
    color: var(--color-primary-600);
  }

  /* Form Actions */
  .form-actions {
    @apply flex items-center justify-end gap-3 pt-6;
  }

  .form-actions-center {
    @apply justify-center;
  }

  .form-actions-start {
    @apply justify-start;
  }

  .form-actions-between {
    @apply justify-between;
  }

  /* Multi-step Form */
  .form-steps {
    @apply flex items-center justify-between mb-8;
  }

  .form-step {
    @apply flex items-center;
  }

  .form-step-number {
    @apply w-8 h-8 rounded-full border-2;
    @apply flex items-center justify-center text-sm font-medium;
    @apply transition-all duration-200;
    border-color: var(--color-border);
    color: var(--color-text-muted);
  }

  .form-step.active .form-step-number {
    border-color: var(--color-primary-500);
    background: var(--color-primary-500);
    color: var(--color-neutral-0);
  }

  .form-step.completed .form-step-number {
    border-color: var(--color-success-500);
    background: var(--color-success-500);
    color: var(--color-neutral-0);
  }

  .form-step-connector {
    @apply flex-1 h-0.5 mx-4;
    background: var(--color-border);
  }

  .form-step.completed + .form-step .form-step-connector {
    background: var(--color-success-500);
  }
}

/* Navigation Components */
@layer components {
  .nav {
    @apply flex items-center space-x-4;
  }

  .nav-link {
    @apply px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200;
    color: var(--color-text-secondary);
  }

  .nav-link:hover {
    color: var(--color-primary-600);
    background: var(--color-primary-50);
  }

  .nav-link.active {
    color: var(--color-primary-600);
    background: var(--color-primary-100);
  }
}