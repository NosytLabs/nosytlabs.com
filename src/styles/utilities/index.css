/* Utility Classes - Import all utility files */
@import url('./animations.css');
@import url('./container-queries.css');

@layer utilities {
  /* Layout Utilities */
  .aspect-square {
    aspect-ratio: 1 / 1;
  }

  .aspect-video {
    aspect-ratio: 16 / 9;
  }

  .aspect-photo {
    aspect-ratio: 4 / 3;
  }

  /* Spacing Utilities */
  .space-y-safe > * + * {
    margin-top: var(--space-4);
  }

  .space-x-safe > * + * {
    margin-left: var(--space-4);
  }

  /* Text Utilities */
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  .text-gradient {
    @apply bg-gradient-to-r from-primary-600 to-secondary-600;
    @apply bg-clip-text text-transparent;
  }

  .text-gradient-primary {
    @apply bg-gradient-to-r from-primary-500 to-primary-700;
    @apply bg-clip-text text-transparent;
  }

  .text-gradient-secondary {
    @apply bg-gradient-to-r from-secondary-500 to-secondary-700;
    @apply bg-clip-text text-transparent;
  }

  /* Background Utilities */
  .bg-gradient-radial {
    background: radial-gradient(circle, var(--tw-gradient-stops));
  }

  .bg-gradient-conic {
    background: conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops));
  }

  .bg-mesh {
    background-image: 
      radial-gradient(circle at 25% 25%, rgb(var(--color-primary-500-rgb) / 10%) 0%, transparent 50%),
      radial-gradient(circle at 75% 75%, rgb(var(--color-secondary-500-rgb) / 10%) 0%, transparent 50%);
  }

  .bg-dots {
    background-image: radial-gradient(circle, rgb(var(--color-neutral-900-rgb) / 10%) 1px, transparent 1px);
    background-size: 20px 20px;
  }

  .bg-grid {
    background-image: 
      linear-gradient(rgb(var(--color-neutral-900-rgb) / 5%) 1px, transparent 1px),
      linear-gradient(90deg, rgb(var(--color-neutral-900-rgb) / 5%) 1px, transparent 1px);
    background-size: 20px 20px;
  }

  /* Shadow Utilities */
  .shadow-glow {
    box-shadow: 0 0 20px rgb(var(--color-primary-500-rgb) / 30%);
  }

  .shadow-glow-primary {
    box-shadow: 0 0 20px rgb(var(--color-primary-500-rgb) / 30%);
  }

  .shadow-glow-secondary {
    box-shadow: 0 0 20px rgb(var(--color-secondary-500-rgb) / 30%);
  }

  .shadow-inner-glow {
    box-shadow: inset 0 0 20px rgb(var(--color-primary-500-rgb) / 10%);
  }

  /* Border Utilities */
  .border-gradient {
    border: 1px solid transparent;
    background: linear-gradient(white, white) padding-box,
                linear-gradient(to right, theme('colors.primary.500'), theme('colors.secondary.500')) border-box;
  }

  /* Shadow Utilities - legacy duplicates removed */

  /* Filter Utilities */
  .backdrop-blur-xs {
    backdrop-filter: blur(2px);
  }

  .backdrop-blur-3xl {
    backdrop-filter: blur(64px);
  }

  .filter-none {
    filter: none;
  }

  .filter-grayscale {
    filter: grayscale(100%);
  }

  .filter-sepia {
    filter: sepia(100%);
  }

  /* Scroll Utilities */
  .scroll-smooth {
    scroll-behavior: smooth;
  }

  .scroll-auto {
    scroll-behavior: auto;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: var(--color-neutral-100);
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: var(--color-neutral-300);
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: var(--color-neutral-400);
  }

  /* Container Queries */
  @container (min-width: 320px) {
    .cq-sm\:text-lg {
      font-size: 1.125rem;
      line-height: 1.75rem;
    }
  }

  @container (min-width: 768px) {
    .cq-md\:text-xl {
      font-size: 1.25rem;
      line-height: 1.75rem;
    }
  }

  @container (min-width: 1024px) {
    .cq-lg\:text-2xl {
      font-size: 1.5rem;
      line-height: 2rem;
    }
  }

  /* Print Utilities */
  @media print {
    .print\:hidden {
      display: none !important;
    }

    .print\:block {
      display: block !important;
    }

    .print\:text-black {
      color: black !important;
    }

    .print\:bg-white {
      background-color: white !important;
    }
  }

  /* High Contrast Mode */
  @media (prefers-contrast: more) {
    .high-contrast\:border-2 {
      border-width: 2px;
    }

    .high-contrast\:border-black {
      border-color: black;
    }

    .high-contrast\:text-black {
      color: black;
    }

    .high-contrast\:bg-white {
      background-color: white;
    }
  }

  /* Focus Visible */
  .focus-visible\:ring-2:focus-visible {
    --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
    --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
    box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
  }

  /* Safe Area Insets */
  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }

  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .pl-safe {
    padding-left: env(safe-area-inset-left);
  }

  .pr-safe {
    padding-right: env(safe-area-inset-right);
  }

  /* Dark mode utilities */
  @media (prefers-color-scheme: dark) {
    .scrollbar-thin::-webkit-scrollbar-track {
      background: theme('colors.gray.800');
    }

    .scrollbar-thin::-webkit-scrollbar-thumb {
      background: theme('colors.gray.600');
    }

    .scrollbar-thin::-webkit-scrollbar-thumb:hover {
      background: theme('colors.gray.500');
    }

    .bg-dots {
      background-image: radial-gradient(circle, rgb(var(--color-neutral-0-rgb) / 10%) 1px, transparent 1px);
    }

    .bg-grid {
      background-image: 
        linear-gradient(rgb(var(--color-neutral-0-rgb) / 5%) 1px, transparent 1px),
        linear-gradient(90deg, rgb(var(--color-neutral-0-rgb) / 5%) 1px, transparent 1px);
    }
  }
}