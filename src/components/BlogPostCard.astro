---
export interface Props {
  title: string;
  description: string;
  pubDate: Date;
  slug: string;
  tags?: string[];
  heroImage?: string;
}

const { title, description, pubDate, slug, tags = [], heroImage } = Astro.props;

const formattedDate = pubDate.toLocaleDateString('en-US', { 
  year: 'numeric', 
  month: 'short', 
  day: 'numeric' 
});
---

<article class="group brand-card hover-lift hover-glow transition-smooth animate-fade-in-up">
  <div class="h-48 rounded-lg overflow-hidden mb-6 relative">
    {heroImage ? (
      <img 
        src={heroImage} 
        alt={title}
        class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
      />
    ) : (
      <div class="w-full h-full bg-gradient-to-br from-brand-accent/10 to-brand-purple/10 flex items-center justify-center">
        <div class="w-16 h-16 rounded-full bg-gradient-to-br from-brand-accent to-brand-purple flex items-center justify-center animate-pulse-slow">
          <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />
          </svg>
        </div>
      </div>
    )}
    <div class="absolute inset-0 bg-gradient-to-t from-background/80 to-transparent"></div>
  </div>
  
  <div class="flex flex-wrap gap-2 mb-4">
    {tags.slice(0, 3).map((tag) => (
      <span class="px-2 py-1 text-xs font-medium bg-brand-accent/10 text-brand-accent rounded-full border border-brand-accent/20 animate-fade-in">
        {tag}
      </span>
    ))}
  </div>
  
  <h3 class="text-xl font-bold text-foreground mb-3 group-hover:text-brand-accent transition-colors duration-300">
    {title}
  </h3>
  
  <p class="text-muted-foreground text-sm mb-4 line-clamp-3">
    {description}
  </p>
  
  <div class="flex items-center justify-between text-sm text-muted-foreground">
    <span>{formattedDate}</span>
    <a href={`/blog/${slug}`} class="text-brand-accent font-medium flex items-center gap-1 group-hover:gap-2 transition-all duration-300 hover-lift">
      Read more
      <svg class="w-4 h-4 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
      </svg>
    </a>
  </div>
</article>