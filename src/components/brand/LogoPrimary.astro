---
// LogoPrimary.astro - Primary logo with geometric N and wordmark
// Brand-compliant primary logo for headers, footers, and main placements

export interface Props {
  size?: 'sm' | 'md' | 'lg' | 'xl' | 'custom';
  width?: string;
  height?: string;
  theme?: 'default' | 'monochrome-black' | 'monochrome-white';
  showTagline?: boolean;
  animated?: boolean;
  class?: string;
}

const {
  size = 'md',
  width,
  height,
  theme = 'default',
  showTagline = false,
  animated = false,
  class: className = '',
} = Astro.props;

// Size presets for primary logo with proper clear space
const sizeMap = {
  sm: { width: '120px', height: '28px' },
  md: { width: '160px', height: '36px' },
  lg: { width: '200px', height: '44px' },
  xl: { width: '240px', height: '52px' },
  custom: { width: width || '160px', height: height || '36px' }
};

const dimensions = sizeMap[size];
const logoWidth = width || dimensions.width;
const logoHeight = height || dimensions.height;

// Theme-based logo source selection
const logoSrc = {
  'default': '/brand/logos/logo-primary.svg',
  'monochrome-black': '/brand/logos/logo-monochrome-black.svg',
  'monochrome-white': '/brand/logos/logo-monochrome-white.svg'
}[theme];
---

<div
 class={`brand-logo-primary inline-flex items-center ${animated ? 'animate-pulse' : ''} ${className}`}
 style={`height: ${logoHeight}; width: ${logoWidth}; padding: var(--spacing-brand-logo-clear, var(--space-2));`}
>
  {theme === 'default' ? (
    <svg
      width={logoWidth}
      height={logoHeight}
      viewBox="0 0 200 44"
      xmlns="http://www.w3.org/2000/svg"
      class={`brand-logo-image transition-all duration-300 hover:scale-105 ${animated ? 'animate-glow' : ''}`}
      aria-label="Nosyt Labs - Network Intelligence Platform"
    >
      <defs>
        <linearGradient id="logo-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#1e40af;stop-opacity:1" />
        </linearGradient>
      </defs>
      <!-- Geometric N -->
      <path d="M8 8 L8 36 L16 36 L28 16 L28 36 L36 36 L36 8 L28 8 L16 28 L16 8 Z" fill="url(#logo-gradient)"/>
      <!-- Circle accent -->
      <circle cx="44" cy="22" r="6" fill="#f59e0b"/>
      <!-- Wordmark -->
      <text x="58" y="28" font-family="Inter, sans-serif" font-size="18" font-weight="600" fill="#1f2937">NosytLabs</text>
    </svg>
  ) : theme === 'monochrome-black' ? (
    <svg
      width={logoWidth}
      height={logoHeight}
      viewBox="0 0 200 44"
      xmlns="http://www.w3.org/2000/svg"
      class={`brand-logo-image transition-all duration-300 hover:scale-105 ${animated ? 'animate-glow' : ''}`}
      aria-label="Nosyt Labs - Network Intelligence Platform"
    >
      <!-- Geometric N -->
      <path d="M8 8 L8 36 L16 36 L28 16 L28 36 L36 36 L36 8 L28 8 L16 28 L16 8 Z" fill="#000000"/>
      <!-- Circle accent -->
      <circle cx="44" cy="22" r="6" fill="#000000"/>
      <!-- Wordmark -->
      <text x="58" y="28" font-family="Inter, sans-serif" font-size="18" font-weight="600" fill="#000000">NosytLabs</text>
    </svg>
  ) : theme === 'monochrome-white' ? (
    <svg
      width={logoWidth}
      height={logoHeight}
      viewBox="0 0 200 44"
      xmlns="http://www.w3.org/2000/svg"
      class={`brand-logo-image transition-all duration-300 hover:scale-105 ${animated ? 'animate-glow' : ''}`}
      aria-label="Nosyt Labs - Network Intelligence Platform"
    >
      <!-- Geometric N -->
      <path d="M8 8 L8 36 L16 36 L28 16 L28 36 L36 36 L36 8 L28 8 L16 28 L16 8 Z" fill="#ffffff"/>
      <!-- Circle accent -->
      <circle cx="44" cy="22" r="6" fill="#ffffff"/>
      <!-- Wordmark -->
      <text x="58" y="28" font-family="Inter, sans-serif" font-size="18" font-weight="600" fill="#ffffff">NosytLabs</text>
    </svg>
  ) : (
    <img
      loading="lazy"
      src={logoSrc}
      alt="Nosyt Labs - Network Intelligence Platform"
      width={logoWidth}
      height={logoHeight}
      class={`brand-logo-image transition-all duration-300 hover:scale-105 ${animated ? 'animate-glow' : ''}`}
    />
  )}
  {showTagline && (
    <div class="brand-tagline text-sm leading-relaxed text-brand-signal-white/70 mt-2 font-inter focus:outline-none focus:ring-2 focus:ring-brand-accent">
      Network Intelligence Platform
    </div>
  )}
</div>

<style>
  .brand-logo-primary {
    /* Brand-compliant clear space and positioning */
    padding: var(--spacing-brand-logo-clear, 0.5rem);
    transition: all var(--transition-brand-smooth, 0.3s) ease;
  }
  
  .brand-logo-image {
    filter: drop-shadow(var(--effect-brand-node-shadow, 0 2px 8px var(--color-glow-primary) /* Fixed: design token */));
    transition: all var(--transition-brand-smooth, 0.3s) ease;
  }
  
  .brand-logo-image:hover {
    filter: drop-shadow(var(--effect-brand-glow, 0 0 24px /* Fixed: 8px grid */ var(--color-glow-intense) /* Fixed: design token */));
    transform: scale(1.05);
  }
  
  .brand-tagline {
    font-family: var(--font-family-body);
    color: var(--color-brand-signal-white-70, var(--color-brand-signal-white-70) /* Fixed: design token */);
    font-size: var(--text-brand-caption, 0.875rem);
    margin-top: var(--spacing-brand-xs, 0.5rem);
  }
  
  .animate-glow {
    animation: glow 2s ease-in-out infinite;
  }

  /* Responsive logo sizing */
  @media (max-width: var(--breakpoint-md)) {
    .brand-logo-primary {
      padding: var(--space-1);
    }

    .brand-logo-image {
      transform: scale(0.9);
    }

    .brand-logo-image:hover {
      transform: scale(0.95);
    }
  }

  @media (max-width: var(--breakpoint-xs)) {
    .brand-logo-primary {
      padding: var(--space-0-5);
    }

    .brand-logo-image {
      transform: scale(0.8);
    }

    .brand-logo-image:hover {
      transform: scale(0.85);
    }
  }
</style>
