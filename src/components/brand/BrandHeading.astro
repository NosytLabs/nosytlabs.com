---
export interface Props {
  level?: 1 | 2 | 3 | 4 | 5 | 6;
  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';
  weight?: 'normal' | 'medium' | 'semibold' | 'bold';
  color?: 'primary' | 'secondary' | 'accent';
  gradient?: boolean;
  glow?: boolean;
  id?: string;
  class?: string;
}

const {
  level = 1,
  size = 'md',
  weight = 'semibold',
  color = 'primary',
  gradient = false,
  glow = false,
  id,
  class: className
} = Astro.props;

const Tag = `h${level}`;
---

<Tag id={id} class={`brand-heading h${level} size-${size} weight-${weight} color-${color} ${gradient ? 'is-gradient' : ''} ${glow ? 'is-glow' : ''} ${className || ''}`}>
  <slot />
</Tag>

<style>
   .brand-heading {
     font-family: var(--font-family-heading);
     color: var(--color-brand-text-primary);
     text-rendering: optimizeLegibility;
     -webkit-font-smoothing: antialiased;
     letter-spacing: -0.01em;
     scroll-margin-top: var(--spacing-3xl);
   }

   /* Heading Hierarchy - H1 */
   .h1 {
     font-size: var(--font-size-5xl);
     font-weight: var(--font-weight-bold);
     line-height: 1.1;
     margin-top: var(--spacing-2xl);
     margin-bottom: var(--spacing-lg);
   }

   /* Heading Hierarchy - H2 */
   .h2 {
     font-size: var(--font-size-4xl);
     font-weight: var(--font-weight-semibold);
     line-height: 1.2;
     margin-top: var(--spacing-xl);
     margin-bottom: var(--spacing-md);
   }

   /* Heading Hierarchy - H3 */
   .h3 {
     font-size: var(--font-size-3xl);
     font-weight: var(--font-weight-semibold);
     line-height: 1.3;
     margin-top: var(--spacing-lg);
     margin-bottom: var(--spacing-sm);
   }

   /* Heading Hierarchy - H4 */
   .h4 {
     font-size: var(--font-size-2xl);
     font-weight: var(--font-weight-medium);
     line-height: 1.4;
     margin-top: var(--spacing-md);
     margin-bottom: var(--spacing-sm);
   }

   /* Heading Hierarchy - H5 */
   .h5 {
     font-size: var(--font-size-xl);
     font-weight: var(--font-weight-medium);
     line-height: 1.4;
     margin-top: var(--spacing-sm);
     margin-bottom: var(--spacing-sm);
   }

   /* Heading Hierarchy - H6 */
   .h6 {
     font-size: var(--font-size-lg);
     font-weight: var(--font-weight-medium);
     line-height: 1.5;
     margin-top: var(--spacing-sm);
     margin-bottom: var(--spacing-sm);
   }

   .brand-heading.color-primary { color: var(--color-brand-text-primary); }
   .brand-heading.color-secondary { color: var(--color-brand-text-secondary); }
   .brand-heading.color-accent { color: var(--color-brand-accent); }

   .brand-heading.is-gradient {
     background: linear-gradient(90deg, var(--color-brand-text-primary), var(--color-brand-accent));
     -webkit-background-clip: text;
     background-clip: text;
     color: transparent;
   }

   .brand-heading.is-glow {
     text-shadow: var(--shadow-glow);
   }

   .brand-heading:focus-visible {
     outline: 2px solid var(--color-brand-accent);
     outline-offset: var(--spacing-xs);
   }

   /* ===== RESPONSIVE DESIGN ===== */
   /* Mobile-first responsive typography */
   .brand-heading {
     font-size: clamp(1.5rem, 2.5vw + 1rem, 2.5rem);
     line-height: 1.3;
     margin-bottom: var(--grid-lg);
   }

   /* Responsive sizing with fluid typography */
   .size-xs { font-size: clamp(1rem, 1.5vw + 0.8rem, 1.25rem); }
   .size-sm { font-size: clamp(1.25rem, 2vw + 1rem, 1.75rem); }
   .size-md { font-size: clamp(1.5rem, 2.5vw + 1.2rem, 2.25rem); }
   .size-lg { font-size: clamp(2rem, 3vw + 1.5rem, 3rem); }
   .size-xl { font-size: clamp(2.5rem, 4vw + 2rem, 4rem); }

   /* Responsive spacing */
   .h1 { margin-top: var(--grid-2xl); margin-bottom: var(--grid-xl); }
   .h2 { margin-top: var(--grid-xl); margin-bottom: var(--grid-lg); }
   .h3 { margin-top: var(--grid-lg); margin-bottom: var(--grid-md); }
   .h4 { margin-top: var(--grid-md); margin-bottom: var(--grid-md); }
   .h5 { margin-top: var(--grid-md); margin-bottom: var(--grid-sm); }
   .h6 { margin-top: var(--grid-sm); margin-bottom: var(--grid-sm); }

   /* Touch-friendly interactions */
   .brand-heading {
     min-height: 48px /* Fixed: 8px grid compliance */;
     display: flex;
     align-items: center;
   }

   /* Mobile optimizations */
   @media (max-width: var(--breakpoint-md)) {
     .brand-heading {
       line-height: 1.4;
       font-size: clamp(1.25rem, 3vw + 1rem, 2rem);
     }

     .size-xl {
       font-size: clamp(1.75rem, 4vw + 1.5rem, 2.5rem);
     }

     .h1 { margin-top: var(--grid-xl); margin-bottom: var(--grid-lg); }
     .h2 { margin-top: var(--grid-lg); margin-bottom: var(--grid-md); }
     .h3 { margin-top: var(--grid-md); margin-bottom: var(--grid-sm); }
   }

   /* Tablet optimizations */
   @media (min-width: var(--breakpoint-md)) and (max-width: var(--breakpoint-lg)) {
     .brand-heading {
       font-size: clamp(1.75rem, 2vw + 1.5rem, 2.75rem);
     }

     .size-xl {
       font-size: clamp(2.25rem, 3vw + 2rem, 3.5rem);
     }
   }

   /* Desktop optimizations */
   @media (min-width: 1024px) {
     .brand-heading {
       font-size: clamp(2rem, 1.5vw + 1.8rem, 3rem);
     }

     .size-xl {
       font-size: clamp(3rem, 2vw + 2.5rem, 4rem);
     }
   }

   /* Large desktop optimizations */
   @media (min-width: 1280px) {
     .brand-heading {
       font-size: clamp(2.25rem, 1.2vw + 2rem, 3.5rem);
     }

     .size-xl {
       font-size: clamp(3.5rem, 1.5vw + 3rem, 5rem);
     }
   }

   @media (prefers-contrast: high) {
     .brand-heading {
       color: var(--color-brand-text-primary);
       text-shadow: none;
     }
   }

   @media (prefers-reduced-motion: reduce) {
     .brand-heading.is-glow {
       text-shadow: none;
     }
   }

   @media print {
     .brand-heading {
       color: var(--color-brand-secondary, var(--color-brand-primary) /* Fixed: design token */) !important;
       text-shadow: none !important;
     }
   }
</style>
