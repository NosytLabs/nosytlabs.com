---
import { getCollection } from 'astro:content';
import ServiceCard from '../ui/ServiceCard.astro';
import Button from '../ui/Button.astro';
import { createInternalLink } from '../../lib/constants';

const services = await getCollection('services');
// Filter to show only core services (exclude 3D Printing and Tech Consulting)
const coreServices = services.filter(s => 
  !s.slug.includes('3d-printing') && 
  !s.slug.includes('tech-consulting')
).sort((a, b) => a.data.title.localeCompare(b.data.title));
---

<div class="space-y-12">
  <!-- Section Header -->
  <div class="text-center mb-12">
    <h2 class="section-title">
      Our Core <span class="text-gradient">Services</span>
    </h2>
    <p class="section-subtitle max-w-3xl mx-auto">
      We specialize in web development, AI integration, mobile apps, and rapid prototyping. 
      Each service is designed to deliver measurable results for your business.
    </p>
  </div>

  <!-- Services Grid - Show only 4 core services -->
  <div class="grid-4 mb-12">
    {coreServices.map((service) => (
      <ServiceCard 
        title={service.data.title}
        description={service.data.description}
        features={service.data.features || []}
        price={service.data.price}
        icon={service.data.icon}
        href={createInternalLink(`/services/${service.slug}`)}
      />
    ))}
  </div>

  <!-- CTA -->
  <div class="text-center">
    <Button 
      href={createInternalLink("/services")}
      text="View All Services"
      variant="outline"
      size="lg"
    />
  </div>
</div>
