---
import { createInternalLink } from "../../lib/constants";
import HeroButton from "../ui/HeroUIButtonAstro.astro";

interface Props {
  title?: string;
  subtitle?: string;
  description?: string;
  primaryCTA?: {
    text: string;
    href: string;
  };
  secondaryCTA?: {
    text: string;
    href: string;
  };
  // Backward compatibility aliases
  cta1?: {
    text: string;
    href: string;
  };
  cta2?: {
    text: string;
    href: string;
  };
  showStats?: boolean;
  stats?: Array<{
    value: string;
    label: string;
  }>;
  className?: string;
}

const {
  title = "Ready to Build Your Next Application?",
  subtitle = "Get Technical Assessment",
  description = "Join 47 successful projects. Get a technical assessment and fixed-price estimate within 24 hours based on our proven track record.",
  primaryCTA,
  secondaryCTA,
  cta1,
  cta2,
  showStats = true,
  stats = [
    { value: "500+", label: "Projects Completed" },
    { value: "98%", label: "Client Satisfaction" },
    { value: "24/7", label: "Support Available" },
    { value: "5â˜…", label: "Average Rating" }
  ],
  className = ""
} = Astro.props as Props;
---

<section class={`section-spacing-md ${className}`}>
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="cta-content">
      <!-- Main Content -->
      <div>
        <h2 class="cta-title">
          {title}
        </h2>
        <p class="text-2xl font-semibold mb-4">
          {subtitle}
        </p>
        <p class="cta-description">
          {description}
        </p>
      </div>

      <!-- CTA Buttons -->
      <div class="flex flex-col sm:flex-row gap-5 justify-center mt-8">
        {(primaryCTA || cta1) && (
          <HeroButton 
            href={(primaryCTA || cta1)?.href || createInternalLink("/contact")}
            text={(primaryCTA || cta1)?.text || "Get a Free Quote"}
            variant="gradient"
            size="lg"
          />
        )}
        {(secondaryCTA || cta2) && (
          <HeroButton 
            href={(secondaryCTA || cta2)?.href || createInternalLink("/services")}
            text={(secondaryCTA || cta2)?.text || "Explore Services"}
            variant="outline"
            size="lg"
          />
        )}
        {!primaryCTA && !cta1 && !secondaryCTA && !cta2 && (
          <>
            <HeroButton 
              href={createInternalLink("/contact")}
              text="Get a Free Quote"
              variant="gradient"
              size="lg"
            />
            <HeroButton 
              href={createInternalLink("/services")}
              text="Explore Services"
              variant="outline"
              size="lg"
            />
          </>
        )}
      </div>

      <!-- Stats -->
      {showStats && (
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8 mt-12 md:mt-16">
          {stats.map((stat) => (
            <div class="text-center">
              <div class="stat-value">
                {stat.value}
              </div>
              <div class="stat-label">
                {stat.label}
              </div>
            </div>
          ))}
        </div>
      )}
    </div>
  </div>
</section>

