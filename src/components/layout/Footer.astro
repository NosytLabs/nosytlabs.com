---
import { SITE_CONFIG, COMPANY_INFO, createInternalLink } from '../../lib/constants';

const {
  companyName = COMPANY_INFO.NAME,
  tagline = COMPANY_INFO.TAGLINE,
  description = COMPANY_INFO.DESCRIPTION,
  contactEmail = SITE_CONFIG.EMAILS.CONTACT,
  location = COMPANY_INFO.LOCATION,
} = Astro.props;

const links = {
  services: [
    { href: createInternalLink("/services/professional-web-development"), text: "Web Development" },
    { href: createInternalLink("/services/ai-integration-automation"), text: "AI Integration" },
    { href: createInternalLink("/services/rapid-prototype-development"), text: "Rapid Prototyping" },
    { href: createInternalLink("/services/mobile-app-development"), text: "Mobile Apps" },
    { href: createInternalLink("/services/tech-consulting-seo-audits"), text: "Tech Consulting" },
    { href: createInternalLink("/services/3d-printing-services"), text: "3D Printing" },
  ],
  company: [
    { href: createInternalLink("/about"), text: "About" },
    { href: createInternalLink("/blog"), text: "Blog" },
    { href: createInternalLink("/projects"), text: "Projects" },
    { href: createInternalLink("/contact"), text: "Contact" },
  ],
  legal: [
    { href: createInternalLink("/privacy"), text: "Privacy Policy" },
    { href: createInternalLink("/terms"), text: "Terms of Service" },
    { href: createInternalLink("/cookies"), text: "Cookie Policy" },
    { href: createInternalLink("/disclaimer"), text: "Disclaimer" },
  ],
};

const social = [
  {
    href: "https://twitter.com/nosytlabs",
    icon: "twitter",
    label: "Twitter",
  },
  {
    href: "https://linkedin.com/company/nosytlabs",
    icon: "linkedin",
    label: "LinkedIn",
  },
  {
    href: "https://github.com/nosytlabs",
    icon: "github",
    label: "GitHub",
  },
  {
    href: `mailto:${contactEmail}`,
    icon: "email",
    label: "Email",
  },
];

const currentYear = new Date().getFullYear();
---

<footer class="bg-background border-t border-border/50 text-foreground py-16 md:py-24">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Top Section - Brand & CTA -->
    <div class="mb-16 md:mb-24">
      <div class="grid md:grid-cols-2 gap-12 items-start mb-12">
        <!-- Brand Info -->
        <div class="space-y-4">
          <div class="w-14 h-14 bg-gradient-to-br from-primary to-accent rounded-2xl flex items-center justify-center shadow-lg">
            <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
          </div>
          <div>
            <h3 class="text-2xl md:text-3xl font-bold text-foreground">{companyName}</h3>
            <p class="text-sm md:text-base text-muted-foreground mt-2 leading-relaxed max-w-sm">
              {description}
            </p>
            <p class="text-xs text-primary font-semibold uppercase tracking-widest mt-4">
              {tagline}
            </p>
          </div>
        </div>

        <!-- Newsletter/CTA -->
        <div class="bg-gradient-to-br from-primary/10 via-transparent to-accent/10 border border-primary/20 rounded-2xl p-6 md:p-8">
          <h4 class="text-lg md:text-xl font-bold text-foreground mb-3">Let's Build Something Great</h4>
          <p class="text-sm md:text-base text-muted-foreground mb-6">
            Ready to start your next project? Let's discuss your ideas and deliver exceptional results.
          </p>
          <a href={createInternalLink("/contact")} class="inline-block px-6 py-3 bg-gradient-to-r from-primary via-primary to-accent text-primary-foreground rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300">
            Get Started Today
          </a>
        </div>
      </div>

      <!-- Divider -->
      <div class="h-px bg-gradient-to-r from-transparent via-border to-transparent"></div>
    </div>

    <!-- Main Content Grid -->
    <div class="grid sm:grid-cols-2 md:grid-cols-4 gap-8 md:gap-12 mb-16 md:mb-24">
      <!-- Services -->
      <div>
        <h5 class="text-sm font-bold uppercase tracking-widest text-foreground mb-6 flex items-center gap-2">
          <span class="w-1.5 h-1.5 bg-primary rounded-full"></span>
          Services
        </h5>
        <ul class="space-y-3">
          {links.services.map((link) => (
            <li>
              <a
                href={link.href}
                class="text-sm md:text-base text-muted-foreground hover:text-primary hover:pl-2 transition-all duration-200 inline-block focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background rounded px-1"
              >
                {link.text}
              </a>
            </li>
          ))}
        </ul>
      </div>

      <!-- Company -->
      <div>
        <h5 class="text-sm font-bold uppercase tracking-widest text-foreground mb-6 flex items-center gap-2">
          <span class="w-1.5 h-1.5 bg-accent rounded-full"></span>
          Company
        </h5>
        <ul class="space-y-3">
          {links.company.map((link) => (
            <li>
              <a
                href={link.href}
                class="text-sm md:text-base text-muted-foreground hover:text-primary hover:pl-2 transition-all duration-200 inline-block focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background rounded px-1"
              >
                {link.text}
              </a>
            </li>
          ))}
        </ul>
      </div>

      <!-- Legal -->
      <div>
        <h5 class="text-sm font-bold uppercase tracking-widest text-foreground mb-6 flex items-center gap-2">
          <span class="w-1.5 h-1.5 bg-primary/60 rounded-full"></span>
          Legal
        </h5>
        <ul class="space-y-3">
          {links.legal.map((link) => (
            <li>
              <a
                href={link.href}
                class="text-sm md:text-base text-muted-foreground hover:text-primary hover:pl-2 transition-all duration-200 inline-block focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background rounded px-1"
              >
                {link.text}
              </a>
            </li>
          ))}
        </ul>
      </div>

      <!-- Contact -->
      <div>
        <h5 class="text-sm font-bold uppercase tracking-widest text-foreground mb-6">Get in Touch</h5>
        <div class="space-y-4">
          <div>
            <p class="text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-1">Email</p>
            <a href={`mailto:${contactEmail}`} class="text-sm md:text-base text-muted-foreground hover:text-primary transition-colors duration-200">
              {contactEmail}
            </a>
          </div>
          <div>
            <p class="text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-1">Location</p>
            <p class="text-sm md:text-base text-foreground">{location}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom Section - Social & Copyright -->
    <div class="border-t border-border/50 pt-8 md:pt-12">
      <div class="flex flex-col sm:flex-row justify-between items-center gap-6">
        <!-- Social Links -->
        <div class="flex items-center gap-4">
          {social.map((item) => (
            <a
              href={item.href}
              aria-label={item.label}
              class="w-10 h-10 rounded-lg bg-muted/50 hover:bg-primary/20 text-foreground hover:text-primary flex items-center justify-center transition-all duration-300 hover:scale-110"
              {...(item.href.startsWith("http") && {
                target: "_blank",
                rel: "noopener noreferrer",
              })}
            >
              {item.icon === "twitter" && (
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2s9 5 20 5a9.5 9.5 0 00-9-5.5c4.75 2.25 9 0 11-4s1-6.75 1-6.75"/></svg>
              )}
              {item.icon === "linkedin" && (
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z"/><circle cx="4" cy="4" r="2"/></svg>
              )}
              {item.icon === "github" && (
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12c0 4.42 2.87 8.17 6.84 9.49.5.09.68-.22.68-.49v-1.7c-2.78.6-3.37-1.34-3.37-1.34-.46-1.15-1.11-1.46-1.11-1.46-.9-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.5 2.34 1.07 2.91.82.09-.65.34-1.07.62-1.32-2.15-.25-4.42-1.08-4.42-4.78 0-1.06.38-1.93 1-2.61-.1-.25-.44-1.28.1-2.66 0 0 .82-.26 2.7 1.01.78-.22 1.62-.33 2.45-.33.83 0 1.67.11 2.45.33 1.88-1.27 2.7-1.01 2.7-1.01.54 1.38.2 2.41.1 2.66.62.68 1 1.55 1 2.61 0 3.71-2.27 4.53-4.43 4.77.35.3.66.89.66 1.8v2.67c0 .27.18.59.69.49C19.14 20.16 22 16.42 22 12c0-5.52-4.48-10-10-10z"/></svg>
              )}
              {item.icon === "email" && (
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
              )}
            </a>
          ))}
        </div>

        <!-- Copyright -->
        <div class="text-center sm:text-right">
          <p class="text-xs md:text-sm text-muted-foreground">
            Â© {currentYear} <span class="font-semibold text-foreground">{companyName}</span>. All rights reserved.
          </p>
          <p class="text-xs text-muted-foreground/70 mt-1">
            Built with <span class="text-primary font-semibold">Astro</span> + <span class="text-accent font-semibold">React</span>
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>
