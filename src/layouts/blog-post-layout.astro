---
// Blog Post Layout
import BaseLayout from './base-layout.astro';
import { generateBlogTagPath, generateBlogPath } from '../utils/path-resolvers';
import { generateBlogPostSEO, generateBlogPostStructuredData } from '../utils/seo';
// Reading progress and section divider components removed for now

import UnifiedImageWrapper from '../components/optimization/UnifiedImageWrapper.astro';
import AstroIcon from '../components/ui/AstroIcon.astro';
import Input from '../components/ui/Input.astro';

const { frontmatter } = Astro.props;
const { title, description, date, author, authorImage, image, category, tags } = frontmatter;

// Generate SEO data
const seoData = generateBlogPostSEO(frontmatter);
const structuredData = generateBlogPostStructuredData(frontmatter);

// Related posts functionality removed for now
const relatedPosts: any[] = [];
const recentPosts: any[] = [];
---

<BaseLayout 
  title={seoData.title} 
  description={seoData.description}
  keywords={seoData.keywords}
  image={seoData.image}
  type={seoData.type}
  author={seoData.author}
  publishedTime={seoData.publishedTime}
  modifiedTime={seoData.modifiedTime}
  tags={seoData.tags}
  canonicalUrl={seoData.canonicalUrl}
  structuredData={[structuredData]}
>
  <!-- Reading progress component removed for now -->
  <article class="blog-post">
    <!-- Hero Section -->
    <div class="relative bg-gradient-to-br from-primary-color-dark via-primary-color to-secondary-color overflow-hidden">
      <div class="absolute inset-0 bg-gradient-to-r from-primary-color-dark/90 to-secondary-color/20"></div>
      {
        image && (
          <div class="absolute inset-0 opacity-20">
            <UnifiedImageWrapper
              src={image}
              alt={title}
              className="w-full h-full object-cover"
              fallbackSrc="/images/fallback/default-image.webp"
              client="load"
            />
          </div>
        )
      }
      <div class="relative z-10 container py-20 md:py-32">
        <div class="max-w-4xl mx-auto text-center text-white">
          <h1
            class="text-3xl md:text-5xl lg:text-6xl font-bold mb-6 animate-slide-up leading-tight"
          >
            {title}
          </h1>
          <p
            class="text-lg md:text-xl lg:text-2xl mb-8 opacity-90 animate-slide-up [animation-delay:0.2s]"
          >
            {description}
          </p>
          <div
            class="flex items-center justify-center space-x-6 animate-fade-in [animation-delay:0.3s]"
          >
            {
              authorImage && (
                <UnifiedImageWrapper
                  src={authorImage}
                  alt={author}
                  className="w-14 h-14 rounded-full border-2 border-white/20 shadow-lg"
                  fallbackSrc="/images/fallback/default-avatar.webp"
                  client="load"
                />
              )
            }
            <div class="text-left">
              <div class="font-semibold text-lg">{author}</div>
              <div class="text-sm text-white/70">{date}</div>
            </div>
          </div>
        </div>
      </div>
      <div class="absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-slate-50 to-transparent">
      </div>
    </div>

    <!-- Content Section -->
    <div class="container py-16">
      <div class="max-w-3xl mx-auto">
        <!-- Tags -->
        <div class="flex flex-wrap gap-3 mb-12 animate-fade-in [animation-delay:0.4s]">
          <span
            class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-primary-color to-secondary-color text-text-color-light font-semibold rounded-full shadow-md"
          >
            <AstroIcon name="tabler:tag" class="w-4 h-4 mr-2" />
            {category}
          </span>
          {
            tags.map((tag: string) => (
              <a
                href={generateBlogTagPath(tag)}
                class="inline-flex items-center px-3 py-2 bg-secondary-color-light text-secondary-color-dark rounded-full hover:bg-secondary-color transition-all duration-300 hover:shadow-md hover:-translate-y-0.5 font-medium"
              >
                {tag}
              </a>
            ))
          }
        </div>

        <!-- Post Content -->
        <div class="content-section reading-width animate-fade-in [animation-delay:0.5s]">
          <slot />
        </div>

        <!-- Section divider -->
        <div class="my-16 border-t border-slate-200"></div>

        <!-- Author Bio -->
        <div
          class="mt-16 p-8 bg-gradient-to-r from-slate-50 to-blue-50 rounded-2xl border border-slate-200 shadow-lg animate-fade-in [animation-delay:0.6s]"
        >
          <div class="flex items-start space-x-6">
            {
              authorImage && (
                <UnifiedImageWrapper
                  src={authorImage}
                  alt={author}
                  className="w-20 h-20 rounded-full border-3 border-white shadow-lg"
                  fallbackSrc="/images/fallback/default-avatar.webp"
                  client="load"
                />
              )
            }
            <div class="flex-1">
              <h3 class="text-2xl font-bold mb-3 text-slate-900">About {author}</h3>
              <p class="text-slate-600 mb-6 leading-relaxed">
                {author} is the founder of NosytLabs and a full-stack developer specializing in React,
                Next.js, and AI-assisted development tools. With a background in both web development
                and content creation, {author} shares practical insights from real-world projects and
                experiments with cutting-edge technologies like Cursor AI, 3D printing, and cryptocurrency
                mining.
              </p>
              <div class="flex space-x-6">
                <a
                  href="https://github.com/NosytLabs"
                  class="flex items-center space-x-2 text-blue-600 hover:text-blue-800 transition-colors duration-300"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <AstroIcon name="tabler:brand-github" class="h-6 w-6" />
                  <span class="font-medium">GitHub</span>
                </a>
                <a
                  href="https://kick.com/Tycen"
                  class="flex items-center space-x-2 text-green-600 hover:text-green-800 transition-colors duration-300"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <AstroIcon name="tabler:brand-kick" class="h-6 w-6" />
                  <span class="font-medium">Kick</span>
                </a>
                <a
                  href="https://www.youtube.com/@TycenYT"
                  class="flex items-center space-x-2 text-red-600 hover:text-red-800 transition-colors duration-300"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <AstroIcon name="tabler:brand-youtube" class="h-6 w-6" />
                  <span class="font-medium">YouTube</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-background-color-light to-transparent">
      </div>
    </div>

    <!-- Content Section -->
    <div class="container py-16">
      <div class="max-w-3xl mx-auto">
        <!-- Tags -->
        <div class="flex flex-wrap gap-3 mb-12 animate-fade-in [animation-delay:0.4s]">
          <span
            class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-primary-color to-secondary-color text-text-color-light font-semibold rounded-full shadow-md"
          >
            <AstroIcon name="tabler:tag" class="w-4 h-4 mr-2" />
            {category}
          </span>
          {
            tags.map((tag: string) => (
              <a
                href={generateBlogTagPath(tag)}
                class="inline-flex items-center px-3 py-2 bg-secondary-color-light text-secondary-color-dark rounded-full hover:bg-secondary-color transition-all duration-300 hover:shadow-md hover:-translate-y-0.5 font-medium"
              >
                {tag}
              </a>
            ))
          }
        </div>

        <!-- Post Content -->
        <div class="content-section reading-width animate-fade-in [animation-delay:0.5s]">
          <slot />
        </div>

        <!-- Section divider removed for now -->
        <div class="my-16 border-t border-border-color-light"></div>

        <!-- Author Bio -->
        <div
          class="mt-16 p-8 bg-gradient-to-r from-primary-color-light to-secondary-color-light rounded-2xl border border-primary-color-light/50 shadow-lg animate-fade-in [animation-delay:0.6s]"
        >
          <div class="flex items-start space-x-6">
            {
              authorImage && (
                <UnifiedImageWrapper
                  src={authorImage}
                  alt={author}
                  className="w-20 h-20 rounded-full border-3 border-white shadow-lg"
                  fallbackSrc="/images/fallback/default-avatar.webp"
                  client="load"
                />
              )
            }
            <div class="flex-1">
              <h3 class="text-2xl font-bold mb-3 text-text-color-dark">About {author}</h3>
              <p class="text-text-color-dark-muted mb-6 leading-relaxed">
                {author} is the founder of NosytLabs and a full-stack developer specializing in React,
                Next.js, and AI-assisted development tools. With a background in both web development
                and content creation, {author} shares practical insights from real-world projects and
                experiments with cutting-edge technologies like Cursor AI, 3D printing, and cryptocurrency
                mining.
              </p>
              <div class="flex space-x-6">
                <a
                  href="https://github.com/NosytLabs"
                  class="flex items-center space-x-2 text-primary-color hover:text-primary-color-dark transition-colors duration-300"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <AstroIcon name="tabler:brand-github" class="h-6 w-6" />
                  <span class="font-medium">GitHub</span>
                </a>
                <a
                  href="https://kick.com/Tycen"
                  class="flex items-center space-x-2 text-primary-color hover:text-primary-color-dark transition-colors duration-300"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <AstroIcon name="tabler:brand-kick" class="h-6 w-6" />
                  <span class="font-medium">Kick</span>
                </a>
                <a
                  href="https://www.youtube.com/@TycenYT"
                  class="flex items-center space-x-2 text-red-600 hover:text-red-800 transition-colors duration-300"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <AstroIcon name="tabler:brand-youtube" class="h-6 w-6" />
                  <span class="font-medium">YouTube</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-background-color-light to-transparent">
      </div>
    </div>

    <!-- Content Section -->
    <div class="container py-16">
      <div class="max-w-3xl mx-auto">
        <!-- Tags -->
        <div class="flex flex-wrap gap-3 mb-12 animate-fade-in [animation-delay:0.4s]">
          <span
            class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-primary-color to-secondary-color text-text-color-light font-semibold rounded-full shadow-md"
          >
            <AstroIcon name="tabler:tag" class="w-4 h-4 mr-2" />
            {category}
          </span>
          {
            tags.map((tag: string) => (
              <a
                href={generateBlogTagPath(tag)}
                class="inline-flex items-center px-3 py-2 bg-secondary-color-light text-secondary-color-dark rounded-full hover:bg-secondary-color transition-all duration-300 hover:shadow-md hover:-translate-y-0.5 font-medium"
              >
                {tag}
              </a>
            ))
          }
        </div>

        <!-- Post Content -->
        <div class="content-section reading-width animate-fade-in [animation-delay:0.5s]">
          <slot />
        </div>

        <!-- Section divider removed for now -->
        <div class="my-16 border-t border-border-color-light"></div>

        <!-- Author Bio -->
        <div
          class="mt-16 p-8 bg-gradient-to-r from-primary-color-light to-secondary-color-light rounded-2xl border border-primary-color-light/50 shadow-lg animate-fade-in [animation-delay:0.6s]"
        >
          <div class="flex items-start space-x-6">
            {
              authorImage && (
                <UnifiedImageWrapper
                  src={authorImage}
                  alt={author}
                  className="w-20 h-20 rounded-full border-3 border-background-color-light shadow-lg"
                  fallbackSrc="/images/fallback/default-avatar.webp"
                  client="load"
                />
              )
            }
            <div class="flex-1">
              <h3 class="text-2xl font-bold mb-3 text-text-color-dark">About {author}</h3>
              <p class="text-text-color-dark-muted mb-6 leading-relaxed">
                {author} is the founder of NosytLabs and a full-stack developer specializing in React,
                Next.js, and AI-assisted development tools. With a background in both web development
                and content creation, {author} shares practical insights from real-world projects and
                experiments with cutting-edge technologies like Cursor AI, 3D printing, and cryptocurrency
                mining.
              </p>
              <div class="flex space-x-6">
                <a
                  href="https://github.com/NosytLabs"
                  class="flex items-center space-x-2 text-primary-color hover:text-primary-color-dark transition-colors duration-300"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <AstroIcon name="tabler:brand-github" class="h-6 w-6" />
                  <span class="font-medium">GitHub</span>
                </a>
                <a
                  href="https://kick.com/Tycen"
                  class="flex items-center space-x-2 text-primary-color hover:text-primary-color-dark transition-colors duration-300"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <AstroIcon name="tabler:brand-kick" class="h-6 w-6" />
                  <span class="font-medium">Kick</span>
                </a>
                <a
                  href="https://www.youtube.com/@TycenYT"
                  class="flex items-center space-x-2 text-red-600 hover:text-red-800 transition-colors duration-300"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <AstroIcon name="tabler:brand-youtube" class="h-6 w-6" />
                  <span class="font-medium">YouTube</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-background-color-light to-transparent">
      </div>
    </div>

    <!-- Content Section -->
    <div class="container py-16">
      <div class="max-w-3xl mx-auto">
        <!-- Tags -->
        <div class="flex flex-wrap gap-3 mb-12 animate-fade-in [animation-delay:0.4s]">
          <span
            class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-primary-color to-secondary-color text-text-color-light font-semibold rounded-full shadow-md"
          >
            <AstroIcon name="tabler:tag" class="w-4 h-4 mr-2" />
            {category}
          </span>
          {
            tags.map((tag: string) => (
              <a
                href={generateBlogTagPath(tag)}
                class="inline-flex items-center px-3 py-2 bg-secondary-color-light text-secondary-color-dark rounded-full hover:bg-secondary-color transition-all duration-300 hover:shadow-md hover:-translate-y-0.5 font-medium"
              >
                {tag}
              </a>
            ))
          }
        </div>

        <!-- Post Content -->
        <div class="content-section reading-width animate-fade-in [animation-delay:0.5s]">
          <slot />
        </div>

        <!-- Section divider removed for now -->
        <div class="my-16 border-t border-border-color-light"></div>

        <!-- Author Bio -->
        <div
          class="mt-16 p-8 bg-gradient-to-r from-primary-color-light to-secondary-color-light rounded-2xl border border-primary-color-light/50 shadow-lg animate-fade-in [animation-delay:0.6s]"
        >
          <div class="flex items-start space-x-6">
            {
              authorImage && (
                <UnifiedImageWrapper
                  src={authorImage}
                  alt={author}
                  className="w-20 h-20 rounded-full border-3 border-background-color-light shadow-lg"
                  fallbackSrc="/images/fallback/default-avatar.webp"
                  client="load"
                />
              )
            }
            <div class="flex-1">
              <h3 class="text-2xl font-bold mb-3 text-text-color-dark">About {author}</h3>
              <p class="text-text-color-dark-muted mb-6 leading-relaxed">
                {author} is the founder of NosytLabs and a full-stack developer specializing in React,
                Next.js, and AI-assisted development tools. With a background in both web development
                and content creation, {author} shares practical insights from real-world projects and
                experiments with cutting-edge technologies like Cursor AI, 3D printing, and cryptocurrency
                mining.
              </p>
              <div class="flex space-x-6">
                <a
                  href="https://github.com/NosytLabs"
                  class="flex items-center space-x-2 text-primary-color hover:text-primary-color-dark transition-colors duration-300"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <AstroIcon name="tabler:brand-github" class="h-6 w-6" />
                  <span class="font-medium">GitHub</span>
                </a>
                <a
                  href="https://kick.com/Tycen"
                  class="flex items-center space-x-2 text-primary-color hover:text-primary-color-dark transition-colors duration-300"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <AstroIcon name="tabler:brand-kick" class="h-6 w-6" />
                  <span class="font-medium">Kick</span>
                </a>
                <a
                  href="https://www.youtube.com/@TycenYT"
                  class="flex items-center space-x-2 text-red-600 hover:text-red-800 transition-colors duration-300"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <AstroIcon name="tabler:brand-youtube" class="h-6 w-6" />
                  <span class="font-medium">YouTube</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-background-color-light to-transparent">
      </div>
    </div>

    <!-- Content Section -->
    <div class="container py-16">
      <div class="max-w-3xl mx-auto">
        <!-- Tags -->
        <div class="flex flex-wrap gap-3 mb-12 animate-fade-in [animation-delay:0.4s]">
          <span
            class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-primary-color to-secondary-color text-text-color-light font-semibold rounded-full shadow-md"
          >
            <AstroIcon name="tabler:tag" class="w-4 h-4 mr-2" />
            {category}
          </span>
          {
            tags.map((tag: string) => (
              <a
                href={generateBlogTagPath(tag)}
                class="inline-flex items-center px-3 py-2 bg-secondary-color-light text-secondary-color-dark rounded-full hover:bg-secondary-color transition-all duration-300 hover:shadow-md hover:-translate-y-0.5 font-medium"
              >
                {tag}
              </a>
            ))
          }
        </div>

        <!-- Post Content -->
        <div class="content-section reading-width animate-fade-in [animation-delay:0.5s]">
          <slot />
        </div>

        <!-- Section divider removed for now -->
        <div class="my-16 border-t border-border-color-light"></div>

        <!-- Author Bio -->
        <div
          class="mt-16 p-8 bg-gradient-to-r from-primary-color-light to-secondary-color-light rounded-2xl border border-primary-color-light/50 shadow-lg animate-fade-in [animation-delay:0.6s]"
        >
          <div class="flex items-start space-x-6">
            {
              authorImage && (
                <UnifiedImageWrapper
                  src={authorImage}
                  alt={author}
                  className="w-20 h-20 rounded-full border-3 border-background-color-light shadow-lg"
                  fallbackSrc="/images/fallback/default-avatar.webp"
                  client="load"
                />
              )
            }
            <div class="flex-1">
              <h3 class="text-2xl font-bold mb-3 text-text-color-dark">About {author}</h3>
              <p class="text-text-color-dark-muted mb-6 leading-relaxed">
                {author} is the founder of NosytLabs and a full-stack developer specializing in React,
                Next.js, and AI-assisted development tools. With a background in both web development
                and content creation, {author} shares practical insights from real-world projects and
                experiments with cutting-edge technologies like Cursor AI, 3D printing, and cryptocurrency
                mining.
              </p>
              <div class="flex space-x-6">
                <a
                  href="https://github.com/NosytLabs"
                  class="flex items-center space-x-2 text-primary-color hover:text-primary-color-dark transition-colors duration-300"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <AstroIcon name="tabler:brand-github" class="h-6 w-6" />
                  <span class="font-medium">GitHub</span>
                </a>
                <a
                  href="https://kick.com/Tycen"
                  class="flex items-center space-x-2 text-primary-color hover:text-primary-color-dark transition-colors duration-300"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <AstroIcon name="tabler:brand-kick" class="h-6 w-6" />
                  <span class="font-medium">Kick</span>
                </a>
                <a
                  href="https://www.youtube.com/@TycenYT"
                  class="flex items-center space-x-2 text-red-600 hover:text-red-800 transition-colors duration-300"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <AstroIcon name="tabler:brand-youtube" class="h-6 w-6" />
                  <span class="font-medium">YouTube</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-background-color-light to-transparent">
      </div>
    </div>

    <!-- Recent Posts Section -->
    <section class="py-20 bg-gradient-to-br from-slate-50 to-blue-50/20">
      <div class="container">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold text-slate-900 mb-4 animate-fade-in">
            Recent Posts
          </h2>
          <p class="text-lg text-slate-600 animate-fade-in [animation-delay:0.2s]">
            Continue reading more insights and tutorials
          </p>
        </div>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
          {recentPosts.map((post: any) => (
            <a
              href={generateBlogPath(post.slug)}
              class={`group bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-3 animate-fade-in`}
            >
              <div class="relative h-48 overflow-hidden">
                {post.image && (
                  <UnifiedImageWrapper
                    src={post.image}
                    alt={post.title}
                    className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                    fallbackSrc="/images/fallback/default-image.webp"
                    client="load"
                  />
                )}
                <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                <div class="absolute bottom-4 left-4 right-4">
                  <span class="inline-block px-3 py-1 bg-white/90 backdrop-blur-sm text-slate-800 text-sm font-semibold rounded-full">
                    {post.category}
                  </span>
                </div>
              </div>
              <div class="p-6">
                <h3 class="text-xl font-bold text-slate-900 mb-2 group-hover:text-blue-600 transition-colors">
                  {post.title}
                </h3>
                <p class="text-slate-600 mb-4 line-clamp-3">
                  {post.description}
                </p>
                <div class="flex items-center justify-between">
                  <span class="text-sm text-slate-500">{post.date}</span>
                  <span class="text-sm font-medium text-blue-600 group-hover:text-blue-800">
                    Read More →
                  </span>
                </div>
              </div>
            </a>
          ))}
        </div>
      </div>
    </section>

    {
      relatedPosts.length > 0 && (
        <section class="py-20 bg-gradient-to-br from-background-color-light to-primary-color-light/20">
          <div class="container">
            <div class="text-center mb-16">
              <h2 class="text-4xl font-bold text-text-color-dark mb-4 animate-fade-in">
                You Might Also Like
              </h2>
              <p class="text-lg text-text-color-dark-muted animate-fade-in [animation-delay:0.2s]">
                Discover more insights and stories from our blog
              </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
              {relatedPosts.map((relatedPost, index) => (
                <article
                  class={`group bg-background-color-light rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-3 animate-fade-in`}
                  style={`animation-delay: ${0.3 + index * 0.1}s;`}
                >
                  {relatedPost.featuredImage && (
                    <div class="relative overflow-hidden">
                      <img
                        src={relatedPost.featuredImage}
                        alt={relatedPost.title}
                        class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-500"
                      />
                      <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent group-hover:from-black/40 transition-all duration-300" />
                    </div>
                  )}
                  <div class="p-6">
                    <h3 class="text-xl font-bold mb-3 group-hover:text-blue-600 transition-colors duration-300 leading-tight">
                      <a href={generateBlogPath(relatedPost.slug)} class="block">
                        {relatedPost.title}
                      </a>
                    </h3>
                    <p class="text-gray-600 mb-4 text-sm leading-relaxed">{relatedPost.excerpt}</p>
                    <div class="flex items-center justify-between">
                      <span class="text-xs text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full">
                        {relatedPost.readingTime}
                      </span>
                      <a
                        href={generateBlogPath(relatedPost.slug)}
                        class="inline-flex items-center text-blue-600 hover:text-blue-800 font-semibold text-sm group-hover:translate-x-1 transition-all duration-300"
                      >
                        Read More
                        <svg
                          class="w-4 h-4 ml-1"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M9 5l7 7-7 7"
                          />
                        </svg>
                      </a>
                    </div>
                  </div>
                </article>
              ))}
            </div>
          </div>
        </section>
      )
    }

    <!-- Newsletter Section -->
    <section
      class="py-20 bg-gradient-to-r from-blue-600 via-blue-700 to-blue-800 text-white relative overflow-hidden"
    >
      <div class="absolute inset-0 bg-gradient-to-r from-primary-500/10 to-transparent"></div>
      <div class="container relative z-10">
        <div class="max-w-4xl mx-auto text-center">
          <div class="mb-8">
            <h2 class="text-4xl md:text-5xl font-bold mb-6 animate-slide-up">
              Never Miss an Update
            </h2>
            <p
              class="text-xl md:text-2xl mb-8 text-blue-100 animate-slide-up [animation-delay:0.2s]"
            >
              Subscribe to our newsletter for the latest articles, tutorials, and insights from the
              world of technology.
            </p>
          </div>
          <form
            id="newsletter-form"
            class="flex flex-col md:flex-row gap-4 max-w-2xl mx-auto animate-fade-in [animation-delay:0.4s]"
          >
            <Input
              type="email"
              name="email"
              placeholder="Enter your email address"
              class="flex-1 text-gray-800 shadow-lg"
              required
            />
            <Input
              type="text"
              name="name"
              placeholder="Your name (optional)"
              class="flex-1 text-gray-800 shadow-lg md:hidden"
            />
            <button
              type="submit"
              class="bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-semibold py-4 px-8 rounded-xl transition-all duration-300 hover:shadow-2xl transform hover:-translate-y-1 hover:scale-105"
            >
              Subscribe Now
            </button>
          </form>
          <p class="text-sm mt-6 text-blue-200 animate-fade-in [animation-delay:0.5s]">
            We respect your privacy. Unsubscribe at any time. No spam, guaranteed.
          </p>
        </div>
      </div>
      <div
        class="absolute top-0 right-0 w-96 h-96 bg-primary-400 rounded-full opacity-10 -translate-y-1/2 translate-x-1/2"
      >
      </div>
      <div
        class="absolute bottom-0 left-0 w-64 h-64 bg-blue-400 rounded-full opacity-10 translate-y-1/2 -translate-x-1/2"
      >
      </div>
    </section>
  </article>
</BaseLayout>

<style>
  /* Animation keyframes */
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slide-up {
    from {
      transform: translateY(20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* Animation classes */
  .animate-fade-in {
    animation: fade-in 0.8s ease-in-out forwards;
  }

  .animate-slide-up {
    animation: slide-up 0.8s ease-in-out forwards;
  }

  /* Blog post content styling */
  .prose {
    font-family:
      'Inter',
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      Roboto,
      sans-serif;
  }

  .prose h2 {
    margin-top: 3rem;
    margin-bottom: 1.5rem;
    font-size: 2rem;
    font-weight: 700;
    color: var(--color-text-headings);
    border-bottom: 3px solid var(--color-secondary-500);
    padding-bottom: 0.5rem;
  }

  .prose h3 {
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--color-text-headings);
  }

  .prose h4 {
    margin-top: 2rem;
    margin-bottom: 0.75rem;
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--color-info-600);
  }

  .prose p {
    margin-bottom: 1.5rem;
    line-height: 1.8;
    color: var(--color-text-primary);
    font-size: 1.1rem;
  }

  .prose ul,
  .prose ol {
    margin-top: 1.5rem;
    margin-bottom: 1.5rem;
    padding-left: 2rem;
  }

  .prose li {
    margin-bottom: 0.75rem;
    line-height: 1.7;
    color: var(--color-text-primary);
  }

  .prose li::marker {
    color: var(--color-secondary-500);
  }

  .prose blockquote {
    border-left: 5px solid var(--color-secondary-500);
    background: linear-gradient(to right, var(--color-warning-50), transparent);
    padding: 1.5rem;
    margin: 2rem 0;
    border-radius: 0 0.5rem 0.5rem 0;
    font-style: italic;
    color: var(--color-warning-700);
    font-size: 1.1rem;
  }

  .prose a {
    color: var(--color-text-link);
    text-decoration: none;
    border-bottom: 2px solid transparent;
    transition: all 0.3s ease;
  }

  .prose a:hover {
    color: var(--color-text-link-hover);
    border-bottom-color: var(--color-warning-500);
  }

  .prose code {
    background: linear-gradient(135deg, var(--color-info-50), var(--color-warning-50));
    color: var(--color-text-headings);
    padding: 0.3rem 0.6rem;
    border-radius: 0.375rem;
    font-size: 0.9em;
    font-weight: 600;
    border: 1px solid var(--color-border);
  }

  .prose pre {
    background: linear-gradient(135deg, var(--color-neutral-800), var(--color-neutral-900));
    color: var(--color-neutral-200);
    padding: 1.5rem;
    border-radius: 0.75rem;
    overflow-x: auto;
    margin: 2rem 0;
    border: 1px solid var(--color-border-strong);
    box-shadow: var(--shadow-lg);
  }

  .prose pre code {
    background-color: transparent;
    padding: 0;
    color: inherit;
    border: none;
  }

  .prose img {
    border-radius: 0.75rem;
    margin: 2rem 0;
    box-shadow: var(--shadow-lg);
    border: 1px solid var(--color-border);
  }

  .prose figure {
    margin: 2rem 0;
  }

  .prose figcaption {
    text-align: center;
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-top: 0.75rem;
    font-style: italic;
  }

  .prose strong {
    color: var(--color-text-headings);
    font-weight: 700;
  }

  .prose em {
    color: var(--color-warning-500);
  }
</style>

<script>
  // Newsletter form submission
  document.addEventListener('DOMContentLoaded', function() {
    const newsletterForm = document.getElementById('newsletter-form');
    if (newsletterForm) {
      newsletterForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const submitButton = this.querySelector('button[type="submit"]');
        const originalText = submitButton.textContent;
        
        // Disable submit button and show loading state
        submitButton.disabled = true;
        submitButton.textContent = 'Subscribing...';
        
        try {
          const formData = new FormData(this);
          const data = Object.fromEntries(formData.entries());
          
          const response = await fetch('/api/contact/newsletter', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({ email }),
          });
          
          const result = await response.json();
          
          if (response.ok) {
            // Success feedback
            submitButton.textContent = 'Subscribed!';
            submitButton.classList.add('bg-green-500');
            
            // Reset form
            this.reset();
            
            // Show success message
            const successMessage = document.createElement('div');
            successMessage.className = 'text-green-200 text-center mt-4 p-3 bg-green-500/20 rounded-lg';
            successMessage.textContent = 'Thank you for subscribing! You\'ll receive our latest updates.';
            this.appendChild(successMessage);
            
            // Remove success message after 5 seconds
            setTimeout(() => {
              if (successMessage.parentNode) {
                successMessage.parentNode.removeChild(successMessage);
              }
            }, 5000);
            
          } else {
            throw new Error(result.error || 'Subscription failed');
          }
        } catch (error) {
          console.error('Newsletter subscription error:', error);
          
          // Show error message
          const errorMessage = document.createElement('div');
          errorMessage.className = 'text-red-200 text-center mt-4 p-3 bg-red-500/20 rounded-lg';
          errorMessage.textContent = 'Sorry, there was an error. Please try again later.';
          this.appendChild(errorMessage);
          
          // Remove error message after 5 seconds
          setTimeout(() => {
            if (errorMessage.parentNode) {
              errorMessage.parentNode.removeChild(errorMessage);
            }
          }, 5000);
        } finally {
          // Re-enable submit button after 3 seconds
          setTimeout(() => {
            submitButton.disabled = false;
            submitButton.textContent = originalText;
            submitButton.classList.remove('bg-green-500');
          }, 3000);
        }
      });
    }
  });
</script>
