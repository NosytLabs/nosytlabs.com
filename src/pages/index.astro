---
/**
 * Modern Homepage - Rebuilt with New Design System
 * Features: AI-themed design, modern components, enhanced accessibility
 */

import BaseLayout from '../layouts/base-layout.astro';
import Hero from '../components/Hero.astro';
import { OptimizedServices, OptimizedStats, CTA } from '../components/sections';

// Import service data
import { allServices } from '../config/services/index.ts';
const featuredServices = allServices.slice(0, 3).map(service => ({
  title: service.name,
  description: service.description,
  icon: service.icon || 'code',
  features: service.features.slice(0, 3),
  badge: service.timeline ? `${service.timeline} delivery` : undefined,
  action: {
    text: 'Learn More',
    href: `/services/${service.slug}`,
    variant: 'ghost' as const
  }
}));

// SEO configuration for homepage
const seoConfig = {
  title: 'NosytLabs - AI-Powered Web Development & Digital Solutions',
  description: 'Transform your business with cutting-edge web development, AI integration, and technical consulting. Expert solutions that drive real results and sustainable growth.',
  keywords: [
    'web development',
    'AI integration',
    'technical consulting',
    'modern web solutions',
    'business transformation',
    'digital innovation',
    'NosytLabs'
  ],
};

// Stats data
const stats = [
  { value: '50+', label: 'Projects Completed', icon: 'rocket', animated: true },
  { value: '100%', label: 'Client Satisfaction', icon: 'heart', animated: true },
  { value: '24/7', label: 'Support Available', icon: 'clock', animated: false },
  { value: '5+', label: 'Years Experience', icon: 'award', animated: true },
];

// Why Choose Us features
const whyChooseFeatures = [
  {
    icon: 'brain',
    title: 'AI-First Approach',
    description: 'We use AI development tools in our workflow to build more efficient and modern solutions.'
  },
  {
    icon: 'rocket',
    title: 'Rapid Delivery',
    description: 'Our agile methodology ensures fast turnaround times without compromising on quality.'
  },
  {
    icon: 'shield-check',
    title: 'Enterprise Security',
    description: 'Built-in security measures and best practices protect your data and users at every level.'
  }
];
export const prerender = true;
---

<BaseLayout
  title={seoConfig.title}
  description={seoConfig.description}
  keywords={seoConfig.keywords}
  pageKey="home"
  type="website"
>
  <!-- Hero Section -->
  // Updated Hero with enhanced accessibility and modern UX
  <Hero
    variant="ai"
    size="xl"
    alignment="center"
    badge={{
      text: "AI-Powered Solutions",
      variant: "ai"
    }}
    title="Modern Digital Solutions Built with AI Assistance"
    subtitle="Using AI development tools, modern web technologies, and collaborative consulting to create practical solutions that help your business grow."
    description="We build user-friendly platforms with good performance and modern features, using AI tools to enhance our development process."
    primaryAction={{
      text: "Get Started",
      href: "/contact",
      variant: "ai",
      ariaLabel: "Start your project with NosytLabs"
    }}
    secondaryAction={{
      text: "Explore Services",
      href: "/services",
      variant: "ghost",
      ariaLabel: "View all services offered"
    }}
    backgroundPattern="neural"
    particles={true}
    stats={stats}
    animateOnView={true}
    disableAnimations={false}
    ariaLabel="Enhanced hero section for better accessibility"
  />

  <!-- Main Content Area -->
  <main id="main-content" role="main" aria-label="Homepage content">
    <!-- Services Section -->
    <OptimizedServices
      client:load
      variant="ai"
      layout="grid"
      columns={3}
      badge="Our Expertise"
      title="Comprehensive Digital Solutions"
      subtitle="We combine modern development practices with AI-assisted tools to deliver practical solutions that meet your needs and can grow with your business."
      services={featuredServices}
      showViewAll={true}
      viewAllAction={{
        text: "View All Services",
        href: "/services",
        variant: "primary"
      }}
      animateOnView={true}
      staggerDelay={100}
      disableAnimations={false}
      ariaLabel="Featured services showcase"
      enableLazyLoading={true}
      preloadOnHover={true}
      chunkSize={6}
    />

    <!-- Stats Section -->
    <OptimizedStats
      client:load
      variant="ai"
      layout="grid"
      columns={4}
      stats={stats}
      animated={true}
      animateOnView={true}
      staggerDelay={200}
      disableAnimations={false}
      ariaLabel="Company statistics and achievements"
      enableLazyLoading={true}
      preloadOnHover={true}
      chunkSize={2}
      priority="medium"
    />

    <!-- Why Choose Us Section -->
    <section class="unified-layout type-section size-lg bg-background-muted/30 container-query container-query-md p-4 m-4" aria-labelledby="why-choose-heading" role="region">
      <div class="unified-layout type-container mx-auto">
        <div class="unified-layout type-grid cols-1 lg:cols-2 gap-16 items-center">
          <!-- Content -->
          <div>
            <div class="inline-flex items-center gap-2 bg-secondary/10 px-4 py-2 rounded-full mb-6">
              <svg class="w-4 h-4 text-secondary" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
              </svg>
              <span class="text-secondary font-semibold text-sm">Why Choose NosytLabs</span>
            </div>
            <h2 id="why-choose-heading" class="text-4xl md:text-5xl font-bold text-text mb-6">
              Your Success is Our Mission
            </h2>
            <p class="text-xl text-text-muted mb-8 leading-relaxed">
              We don't just build solutions; we build partnerships. Our commitment to excellence, innovation, and client success sets us apart in the digital landscape.
            </p>
            
            <div class="space-y-6 mb-8">
              {whyChooseFeatures.map((feature) => (
                <div class="flex items-start gap-4">
                  <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-primary" fill="currentColor" viewBox="0 0 24 24">
                      {feature.icon === 'brain' && (
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                      )}
                      {feature.icon === 'rocket' && (
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                      )}
                      {feature.icon === 'shield-check' && (
                        <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                      )}
                    </svg>
                  </div>
                  <div>
                    <h3 class="text-xl font-semibold text-text mb-2">{feature.title}</h3>
                    <p class="text-text-muted">{feature.description}</p>
                  </div>
                </div>
              ))}
            </div>
            
            <button class="inline-flex items-center gap-2 bg-primary text-primary-foreground px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-colors duration-200">
              Learn More About Us
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/>
              </svg>
            </button>
          </div>
          
          <!-- Visual Element -->
          <div class="relative">
            <div class="aspect-square bg-gradient-to-br from-primary/20 via-secondary/10 to-accent/20 rounded-3xl p-8 relative overflow-hidden">
              <!-- Floating elements -->
              <div class="absolute top-8 left-8 w-16 h-16 bg-primary/20 rounded-2xl animate-float" style="animation-delay: 0s;"></div>
              <div class="absolute top-16 right-12 w-12 h-12 bg-secondary/20 rounded-xl animate-float" style="animation-delay: 2s;"></div>
              <div class="absolute bottom-16 left-12 w-20 h-20 bg-accent/20 rounded-3xl animate-float" style="animation-delay: 1s;"></div>
              <div class="absolute bottom-8 right-8 w-14 h-14 bg-primary/15 rounded-2xl animate-float" style="animation-delay: 3s;"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Grand Opening Notice -->
    <section class="unified-layout type-section size-lg bg-background container-query container-query-md p-4 m-4 align-center" aria-label="Grand opening announcement" role="region">
      <div class="container mx-auto">
        <div class="unified-layout type-container size-3xl mx-auto text-center p-6 rounded-2xl border border-border bg-background-muted/40">
          <p class="text-sm uppercase tracking-wider text-primary font-semibold">Grand Opening</p>
          <h3 class="text-2xl md:text-3xl font-bold text-text mt-2">We're just getting started</h3>
          <p class="text-text-muted mt-4">
            We're a new studio focused on practical AI chatbots and modern web development. No hype. No inflated claims.
            We build clear, reliable, maintainable systems that grow with your business.
          </p>
          <div class="mt-6">
            <button class="inline-flex items-center gap-2 bg-primary text-primary-foreground px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-colors duration-200">
              Start a conversation
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Final CTA Section -->
    <CTA
      client:load
      variant="ai"
      size="lg"
      alignment="center"
      layout="simple"
      badge="Ready to Transform Your Business?"
      title="Let's Build Something Amazing Together"
      subtitle="Take the first step towards digital transformation. Our team is ready to discuss your project and provide a customized solution that drives real results."
      primaryAction={{
        text: "Start Your Project",
        href: "/contact",
        variant: "ai"
      }}
      secondaryAction={{
        text: "View Our Portfolio",
        href: "/projects",
        variant: "secondary"
      }}
      backgroundPattern="quantum"
      particles={true}
      animateOnView={true}
      disableAnimations={false}
      ariaLabel="Call to action for starting a project"
    />
  </main>
</BaseLayout>

<!-- Enhanced Styles -->
<style>
  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    33% { transform: translateY(-20px) rotate(5deg); }
    66% { transform: translateY(-10px) rotate(-5deg); }
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  /* Ensure smooth transitions */
  * {
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
  }

  /* Enhanced focus styles for accessibility */
  button:focus-visible,
  a:focus-visible {
    outline: 2px solid hsl(var(--primary));
    outline-offset: 2px;
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .animate-float {
      animation: none;
    }
    
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
</style>

// Added new section for UX improvements
<section class="unified-layout type-section size-lg bg-background container-query container-query-md p-4 m-4" aria-labelledby="ux-features">
  <div class="container mx-auto">
    <h2 id="ux-features" class="text-3xl font-bold mb-8">Modern UX Features</h2>
    <div class="unified-layout type-grid cols-1 md:cols-3 gap-6">
      <div class="p-6 rounded-lg bg-muted">
        <h3>Responsive Design</h3>
        <p>Perfect on all devices.</p>
      </div>
      <div class="p-6 rounded-lg bg-muted">
        <h3>Fast Loading</h3>
        <p>Optimized performance.</p>
      </div>
      <div class="p-6 rounded-lg bg-muted">
        <h3>Accessible</h3>
        <p>WCAG compliant.</p>
      </div>
    </div>
  </div>
</section>
